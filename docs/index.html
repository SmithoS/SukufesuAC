<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>SIF_AC</title>

	<!-- design -->
	<link rel="stylesheet" type="text/css" href="./sanitize.css">
	<link rel="stylesheet" type="text/css" href="./style.css">


	<!-- script -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/riot/3.0/riot+compiler.min.js"></script>

	<!--
	<script src="./jquery-3.1.1.min.js"></script>
	<script src="./riotCompiler.js"></script>
-->
	<script src="./migrate.js"></script>
	<script src="./program.js"></script>
</head>
<body>
<div id="wrapper">
	<div id="header">
		<h1>スクフェスAC部活帳</h1>
		<a href="javascript:void(0)" id="menu_key"><span class="btn">＋</span></a>
	</div>
	<div id="menu">
		<table>
			<tr>
				<td data-page="page_member"><span class="wrap w1"><span class="bg f"></span><span class="bg b"></span><span class="txt">部員</span></span></td>
				<td data-page="page_costume"><span class="wrap w2"><span class="bg f"></span><span class="bg b"></span><span class="txt">衣装</span></span></td>
				<td data-page="page_skill"><span class="wrap w3"><span class="bg f"></span><span class="bg b"></span><span class="txt">スキル</span></span></td>
				<td data-page="page_setting"><span class="wrap w4"><span class="bg f"></span><span class="bg b"></span><span class="txt">設定</span></span></td>
			</tr>
		</table>
	</div>
	<div id="contents">
		<div class="page costume skill page_member">
			<h2>部員詳細</h2>
			<div class="list">

				<member-list></member-list>

				<div id="memStatus">
					<div>
						<member-profile></member-profile>
					</div>
					<div>
						<member-costume></member-costume>
					</div>
					<div>
						<member-skill></member-skill>
					</div>
				</div>
			</div>
		</div>

		<div class="page costume page_costume">
			<h2>衣装部屋</h2>
			<div id="costume_list" class="list">

				<costume></costume>

			</div>
		</div>
		<div class="page skill page_skill">
			<h2>スキル一覧</h2>
			<div id="skill_list" class="list">

				<skill></skill>

			</div>
		</div>
		<div class="page page_setting">
			<h2>設定</h2>
			<div class="list">
				<h3>設定値</h3>
				<table class="tbl2" id="settingTbl">
					<tr>
						<th>衣装所有マーク</th>
						<td>
							<label>
								<select id="cos_mark" name="cos_mark">
									<option value="cos_hart">ハート</option>
									<option value="cos_dia">ダイア</option>
								</select>
							</label>
						</td>
					</tr>
					<tr>
						<th>衣装所有色（HR）</th>
						<td>
							<label>
								<select id="cos_hr_color" name="cos_hr_color">
									<option value="cos_hr_orange">オレンジ</option>
									<option value="cos_hr_lightblue">薄青</option>
									<option value="cos_hr_lightgreen">薄緑</option>
									<option value="cos_hr_blue">青</option>
									<option value="cos_hr_yellow">黄</option>
									<option value="cos_hr_red">赤</option>
									<option value="cos_hr_purple">紫</option>
									<option value="cos_hr_green">緑</option>
									<option value="cos_hr_pink">ピンク</option>
								</select>
							</label>
						</td>
					</tr>
					<tr>
						<th>衣装所有色（R）</th>
						<td>
							<label>
								<select id="cos_r_color" name="cos_r_color">
									<option value="cos_r_orange">オレンジ</option>
									<option value="cos_r_lightblue">薄青</option>
									<option value="cos_r_lightgreen">薄緑</option>
									<option value="cos_r_blue">青</option>
									<option value="cos_r_yellow">黄</option>
									<option value="cos_r_red">赤</option>
									<option value="cos_r_purple">紫</option>
									<option value="cos_r_green">緑</option>
									<option value="cos_r_pink">ピンク</option>
								</select>
							</label>
						</td>
					</tr>
					<tr>
						<th>スキル種類表示方法</th>
						<td>
							<label>
								<select id="skill_mark" name="skill_mark">
									<option value="skill_hart">ハート</option>
									<option value="skill_dia">ダイア</option>
								</select>
							</label>
						</td>
					</tr>
					<tr>
						<th>一覧の部員名称の表示方法</th>
						<td>
							<label>
								<select id="name_display_type" name="name_display_type">
									<option value="name_display_full">名字 + 名前</option>
									<option value="name_display_short">名前</option>
									<option value="name_display_c1">一文字</option>
								</select>
							</label>
						</td>
					</tr>
					<tr>
						<th>メニュー表示方法</th>
						<td>
							<label>
								<select id="menu_show_type" name="menu_show_type">
									<option value="menu_show_hide">隠す</option>
									<option value="menu_show_fixed">画面下に固定</option>
								</select>
							</label>
						</td>
					</tr>


				</table>
			</div>
			<div class="list">
				<h3>システム値</h3>
				<table class="tbl2">
					<tr>
						<th>システムバージョン</th>
						<td id="sysVer"></td>
					</tr>
					<tr>
						<th>データバージョン</th>
						<td id="dataVer"></td>
					</tr>
				</table>
			</div>
	</div>

	<di id="menuSpacer">&nbsp;</div>

	<div class="dialogwrapper" id="dialog">
		<div class="dialog">
			<div class="dialoginner">
				<a href="javascript:void(0)" class="closeBtn" id="dialogCloseBtn">✕</a>
				<div class="descArea">
					<div class="edritDesc">
						<div class="description">
							<p class="memName" id="editMember" data-memid="">（メンバ名）</p>
							<p class="editTgtName" id="editTgt" data-tgtid="">（衣装名 or スキル名）</p>
						</div>
					</div>
					<p></p>
				</div>
				<div class="editArea">
					<div class="costumeedit">
						<span class="rateBtn">
							<input type="checkbox" id="edit_hr">
							<label for="edit_hr" class="hr"><span class="rareTxt">HR</span></label>
						</span>
						<span class="rateBtn">
							<input type="checkbox" id="edit_r">
							<label for="edit_r" class="r"><span class="rareTxt">R</span></label>
						</span>
					</div>
					<div class="skiledit">
						<a href="javascript:void(0)" class="valbtn" id="btnNumMinus">
							<span class="minus"></span>
							<span class="valtxt">-</span>
						</a>
						<span id="inpNumVal" class="skillVal"></span>
						<a href="javascript:void(0)" class="valbtn" id="btnNumPlus">
							<span class="plus"></span>
							<span class="valtxt">+</span>
						</a>
					</div>
					<div class="confirm">
						<p></p>
					</div>
				</div>
				<div class="bntarea">
					<a href="javascript:void(0)" id="okbtn" class="button ok">
						<span class="txt1 f"></span><span class="txt1 b"></span>
						<span class="txt2">ＯＫ</span>
						<span class="txt3 f"></span><span class="txt3 b"></span>
					</a>
				</div>
			</div>
		</div>
	</div>

	<!-- ローカルの開発ではクロスドメイン制約にひっかかるので、ここに記載しています -->
	<script type="riot/tag">
		<costume>
		  <div class="itm" each={ c in opts.cos } data-editId="{ c.id }">
				<h3>{ c.nm }</h3>
				<table class="tbl1">
					<colgroup>
						<col each={ m in parent.opts.mem } class="{ m.id }" />
					</colgroup>
		      <tr class="mem">
		        <th each={ m in parent.opts.mem } data-mem="{ m.id }">
							<span class="nameFull">{ m.nm }</span>
							<span class="nameShort">{ m.snm }</span>
							<span class="name1Char">{ m.c1nm }</span>
						</th>
		      </tr>
		      <tr class="hr">
		        <td each={ m in parent.opts.mem } data-mem="{ m.id }" class='{ c.hr[m.id] ? "owned" : "" }'>
							<span class="rareMark"><span class="rareTxt">HR</span>
						</td>
		      </tr>
		      <tr class="r">
						<td each={ m in parent.opts.mem } data-mem="{ m.id }" class='{ c.r[m.id] ? "owned" : "" }'>
							<span class="rareMark"><span class="rareTxt">R</span>
						</td>
		      </tr>
		    </table>
		  </div>
		</costume>
		<skill>
			<div class="itm" each={ s in opts.skill } data-editId="{ s.id }">
				<h3 class="skilnm { s.st }"><span></span>{ s.nm }</h3>
				<table class="tbl1">
					<colgroup>
						<col each={ m in parent.opts.mem } class="{ m.id }" />
					</colgroup>
					<tr class="mem">
						<th each={ m in parent.opts.mem } data-mem="{ m.id }">
							<span class="nameFull">{ m.nm }</span>
							<span class="nameShort">{ m.snm }</span>
							<span class="name1Char">{ m.c1nm }</span>
						</th>
					</tr>
					<tr>
						<td each={ m in parent.opts.mem } data-mem="{ m.id }" class='{ s.val[m.id] >= 10 ? "ovA" : s.val[m.id] >= 5 ? "ov5" : "" }'>
							{ s.val[m.id] }
						</td>
					</tr>
				</table>
			</div>
		</skill>
		<member-list>
			<table id="statusMemberList" class="tbl1 line1">
				<tr>
					<th each={ m in opts.mem } class="{ m.id }">
						<a href="javascript:void(0)" data-id="{ m.id }">
							<span class="nameFull">{ m.nm }</span>
							<span class="nameShort">{ m.snm }</span>
							<span class="name1Char">{ m.c1nm }</span>
						</a>
					</th>
				</tr>
			</table>
		</member-list>
		<member-profile>
			<h3>{ opts.nm }</h3>
		</member-profile>
		<member-costume>
			<h4>衣装</h4>
			<table class="tbl2">
				<tr each={ c in opts.cos }>
					<th>{ c.nm }</th>
					<td>
						<span class="hr">
							<span class='{ c.hr ? "owned" : "" }'>
								<span class="rareMark"><span class="rareTxt">HR</span></span>
							</span>
						</span>
						&nbsp;&nbsp;
						<span class="r">
							<span class='{ c.r ? "owned" : "" }'>
								<span class="rareMark"><span class="rareTxt">R</span></span>
							</span>
						</span>
					</td>
				</tr>
			</table>
		</member-costume>
		<member-skill>
			<h4>スキル</h4>
			<table class="tbl2">
				<tr each={ s in opts.skill }>
					<th class="skilnm { s.st }"><span></span>{ s.nm }</th>
					<td class='{ s.val == 10 ? "ovA" : s.val >= 5 ? "ov5" : "" }'>
						{ s.val == 10 ? "MAX" : s.val }
					</td>
				</tr>
			</table>
		</member-skill>
	</script>
</div>
</body>
</html>
